detector = vision.CascadeObjectDetector('../data/detector.xml');


images = imageSet('../data/raw/');

parfor i=1:images.Count
    display(i);
    img = read(images, i)
    bbox = step(detector, img);

    detectedImg = imcrop(img, bbox(0,:));
    detectedImg = imresize(detectedImg, [30, 32])
    imwrite(detectedImg, strcat('../data/imgs/', images(i).name))
end